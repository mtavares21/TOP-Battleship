{"version":3,"sources":["Components/board.module.css","Components/ship.module.css","Components/situationRoom.module.css","app.module.css","Components/header.module.css","Components/striped.module.css","Components/MessageBoard.js","Components/Button.js","Components/Header.js","ship.factory.js","Components/Constants.js","Components/Cell.js","Components/Board.js","Components/Dock.js","Components/Ship.js","images/ship.png","Components/SituationRoom.js","images/anchor.png","Components/Striped.js","player.factory.js","gameboard.factory.js","game.js","App.js","index.js","Components/messageboard.module.css"],"names":["module","exports","MessageBoard","message","winEffect","className","styles","win","wrapper","title","Button","value","onClick","type","style","width","height","backgroundColor","fontFamily","fontSize","color","marginLeft","border","padding","textAlign","Header","gameState","handleSinglePlayer","handleMultiplayer","handleNewGame","header","flowControlWrapper","buttonWrapper","shipFactory","length","ship","damage","Object","assign","hit","isSunk","ItemTypes","P1SHIP","P2SHIP","NOSHIPS","dropCoord","item","coord","shipLin","rotate","Array","Number","fill","map","c","i","shipCol","lin","l","col","Cell","attack","player","setBoard","itemType","setDock","useDrop","accept","collect","monitor","isOver","canDrop","Math","max","min","drop","prev","filter","key","id","board","placeShip","ref","Board","showBoats","cellColor","cell","missed","wasHit","flatMap","JSON","stringify","Dock","children","display","flexWrap","justifyContent","alignItems","alignSelf","Ship","useState","setRotate","useDrag","isDragging","drag","preview","shipStructure","push","DragPreviewImage","connect","src","onDoubleClick","transform","margin","position","zIndex","shipCell","SituationRoom","playerBoard","enemyBoard","showRoom","shipsOnDock","setShipsOnDock","useGameFlow","turn","Striped","wrapperWin","anchor","index","anchorImage","alt","left","stripe","enemy","receiveAttack","computerMove","compose","moves","floor","random","getBoard","play","Player","Gameboard","curBoard","createBoard_","attackIsMissed_","allSunk","cellsWithShip","sumDamage","reduce","cur","reset","player1","player2","gameOver","winner","updateState","setState","newBoard","_","App","initialBoardPlayer1","useRef","initialBoardPlayer2","initialDock","current","player1Board","setPlayer1Board","player2Board","setPlayer2Board","player1shipsOnDock","setPlayer1ShipsOnDock","player2shipsOnDock","setPlayer2ShipsOnDock","setGameState","gameMode","setGameMode","renderBoard","setRenderBoard","setWinEffect","attackPlayer1","newState","attackPlayer2","callback","delay","savedCallback","useEffect","setInterval","clearInterval","useInterval","isGameStart","areShipsReady","newGameState","console","log","DndProvider","backend","HTML5Backend","gameWrapper","background","lifebuoy","r","cx","cy","stroke","stroke-width","stroke-dasharray","stroke-dashoffset","buttonFormat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.240ceb95.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"board\":\"board_board__3mzXK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shipCell\":\"ship_shipCell__2M7LC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"situationRoom_wrapper__2OAnn\",\"multiplayerRoom\":\"situationRoom_multiplayerRoom__2z8LS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameWrapper\":\"app_gameWrapper__3SBKJ\",\"boardWrapper\":\"app_boardWrapper__1Zq1d\",\"background\":\"app_background__3Ad_6\",\"lifebuoy\":\"app_lifebuoy__Dn2hZ\",\"buttonWrapper\":\"app_buttonWrapper__2PKim\",\"buttonFormat\":\"app_buttonFormat__FEBOM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3No9B\",\"title\":\"header_title__j6glg\",\"buttonWrapper\":\"header_buttonWrapper__1cDIY\",\"flowControlWrapper\":\"header_flowControlWrapper__2jb04\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"striped_wrapper__1h5Mv\",\"stripe\":\"striped_stripe__24sEc\",\"anchor\":\"striped_anchor__W_ZEh\",\"win\":\"striped_win__3QpI6\",\"wrapperWin\":\"striped_wrapperWin__3xOln\"};","import React from \"react\";\nimport styles from \"./messageboard.module.css\";\n\nfunction MessageBoard({message, winEffect}) {\n  return (\n    <div className={winEffect? styles.win: styles.wrapper}>\n      <p className={styles.title}>{message}</p>\n    </div>\n  );\n}\n\nexport default MessageBoard","import React from \"react\";\n\nexport default function Button({ value, onClick }) {\n  return <input type=\"button\" value={value} onClick={onClick} style={{ \n    width: '120px',\n    height: '30px',\n    backgroundColor: 'white',\n    fontFamily: 'Lobster, cursive',\n    fontSize: '15px',\n    color:'#757575',\n    marginLeft:'20px',\n    border: 'none',\n    padding:'5px',\n    textAlign:'center'\n  }} />\n}\n","import React from \"react\";\nimport styles from \"./header.module.css\";\nimport MessageBoard from \"./MessageBoard\";\nimport Button from \"./Button\";\n\nexport default function Header({\n  gameState,\n  handleSinglePlayer,\n  handleMultiplayer,\n  handleNewGame,\n  winEffect,\n}) {\n  return (\n    <div className={styles.header}>\n      <h1 className={styles.title}> BattleShip </h1>\n      <div className={styles.flowControlWrapper}>\n        <MessageBoard message={gameState} winEffect={winEffect}/>\n        {gameState === \"Game mode\" ? (\n          <div className={styles.buttonWrapper}>\n            <Button value=\"Single Player\" onClick={handleSinglePlayer} />\n            <Button value=\"Multiplayer\" onClick={handleMultiplayer} />\n          </div>\n        ) : (\n          <div className={styles.buttonWrapper}>\n            <Button value={\"New Game\"} onClick={handleNewGame} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","const shipFactory = (length) => {\n\n  let damage = length\n\n  const hit = (ship) => ({ \n    hit: ()=> {\n        ship.damage--\n    }\n  })\n  // isSunk() calculates if the ship is sunk based on length and hit positions\n  const isSunk = (ship) => ({\n    isSunk: () => ship.damage === 0\n  });\n\n   const ship = {\n      damage,\n      length: length && length > 0 && length <= 5 ? length : null,\n  }\n  \n  return Object.assign(ship, hit(ship), isSunk(ship) )\n};\n\nexport default shipFactory;\n","export const ItemTypes = {\n  P1SHIP: 'p1ship',\n  P2SHIP:'p2ship',\n  NOSHIPS:'noships'\n}","import React from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport shipFactory from \"../ship.factory\";\nimport { ItemTypes } from \"./Constants\";\n\nfunction dropCoord(item, coord) {\n  const shipLin = !!item.rotate\n    ? Array(Number(item.length))\n        .fill(0)\n        .map((c, i) => i)\n    : Array(Number(item.length)).fill(0);\n  const shipCol = !!item.rotate\n    ? Array(Number(item.length)).fill(0)\n    : Array(Number(item.length))\n        .fill(0)\n        .map((c, i) => i);\n  const shipCoord = {\n    lin: shipLin.map((l) => l + coord.lin),\n    col: shipCol.map((c) => c + coord.col),\n  };\n  return shipCoord;\n}\n\nexport default function Cell({\n  color,\n  attack,\n  coord,\n  player,\n  setBoard,\n  itemType,\n  setDock,\n}) {\n  const Type = () => {\n    if (itemType === \"P1\") {\n      return ItemTypes.P1SHIP;\n    } else if (itemType === \"P2\") {\n      return ItemTypes.P2SHIP;\n    } else {\n      return ItemTypes.NOSHIPS;\n    }\n  };\n\n  // Connect DnD dropTarget to cells\n  const [{ isOver, canDrop }, drop] = useDrop(\n    () => ({\n      accept: Type(),\n      collect: (monitor) => ({\n        isOver: !!monitor.isOver(),\n        canDrop: !!monitor.canDrop(),\n      }),\n      canDrop: (item, monitor) => {\n        return (\n          !!monitor.isOver() &&\n          Math.max(...dropCoord(item, coord).lin) <= 9 &&\n          Math.max(...dropCoord(item, coord).col) <= 9 &&\n          Math.min(...dropCoord(item, coord).lin) >= 0 &&\n          Math.min(...dropCoord(item, coord).col) >= 0\n        );\n      },\n      drop: (item) => {\n        setDock((prev) => prev.filter((ship) => ship.key !== item.id))\n        player.board.placeShip(\n          dropCoord(item, coord),\n          shipFactory(item.length)\n        );\n        setBoard();\n      },\n    }),\n    [coord, player]\n  );\n\n  return (\n    <div\n      ref={drop}\n      onClick={attack}\n      style={{\n        width: \"25px\",\n        height: \"25px\",\n        backgroundColor: isOver ? \"#195570\" : color,\n      }}\n    ></div>\n  );\n}\n","import React from \"react\";\nimport styles from \"./board.module.css\";\nimport Cell from \"./Cell\";\n\nexport default function Board({ board, setBoard, showBoats, attack, placeShip, player, itemType, setDock }) {\n  // Extract the conditional from component rendering(return)\n  const cellColor = (cell) => {\n    let color = \"white\";\n    if (cell.missed) {\n      color = \"#757575\";\n    } else if (cell.ship && !cell.wasHit && showBoats) {\n      color = \"#195570\";\n    } else if (cell.wasHit) {\n      color = \"#d86307\";\n    }\n    return color;\n  };\n  return (\n    <div className={styles.board}>\n      {\n      board\n        .flatMap((cell) => cell)\n        .map((cell) => (\n          <Cell\n            key={JSON.stringify(cell.coord)}\n            setBoard={setBoard}\n            player={player}\n            placeShip={placeShip}\n            attack={() => attack(cell.coord)}\n            color={cellColor(cell)}\n            coord={cell.coord}\n            itemType={itemType}\n            setDock={setDock}\n          />\n        ))\n      }\n    </div>\n  );\n}\n","import React from \"react\";\n\nfunction Dock({ children }) {\n  return (\n    <div>\n      <h1 style={{color:'white', textAlign:'center'}}>dock</h1>\n    <div\n      style={{\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        alignSelf:'center',\n        width: \"200px\",\n        height: \"260px\",\n        backgroundColor: \"white\",\n      }}\n    >\n      {children}\n    </div>\n    </div>\n  );\n}\n\nexport default Dock;\n","import React, { useState } from \"react\";\nimport styles from \"./ship.module.css\";\nimport { ItemTypes } from \"./Constants\";\nimport { useDrag, DragPreviewImage } from \"react-dnd\";\nimport shipImage from \"../images/ship.png\"\n\nexport default function Ship({ id, length, itemType }) {\n  const [rotate, setRotate] = useState(0);\n  const [isDragging, drag, preview] = useDrag(\n    () => ({\n      type: itemType === \"P1\" ? ItemTypes.P1SHIP : ItemTypes.P2SHIP,\n      item: { length, rotate, id },\n      collect: (monitor) => ({\n        isDragging: !!monitor.isDragging(),\n      }),\n    }),\n    [rotate, itemType, ItemTypes]\n  );\n  //Structure to map over\n  let shipStructure = Array(Number(length));\n  // Keys for React\n  for (let i = 0; i <= length; i++) {\n    shipStructure.push(i);\n  }\n  return (\n    <div style={{ width: \"100%\" }}>\n      <DragPreviewImage\n        connect={preview}\n        src={\n          shipImage\n        }\n      />\n      <div\n        ref={preview}\n        onDoubleClick={() => {\n          setRotate((prev) => (prev === 0 ? 90 : 0));\n        }}\n        style={{\n          width: length * 25 + \"px\",\n          height: 25 + \"px\",\n          display: \"flex\",\n          flexWrap: \"nowrap\",\n          alignItems: \"center\",\n          transform: `rotate(${rotate}deg)`,\n          margin: \"5px\",\n        }}\n      >\n        <div\n          ref={drag}\n          style={{\n            position: \"absolute\",\n            zIndex: 1000,\n            fontSize: \"15px\",\n            marginLeft: \"4px\",\n          }}\n        >\n          {\" \"}\n          ⌖{\" \"}\n        </div>\n        {shipStructure.map((cell) => (\n          <div key={cell} className={styles.shipCell}></div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport Board from \"./Board\";\nimport Dock from \"./Dock\";\nimport Ship from \"./Ship\";\nimport styles from \"./situationRoom.module.css\"\n\nexport default function SituationRoom({\n  setBoard,\n  player,\n  playerBoard,\n  enemyBoard,\n  attack,\n  itemType,\n  showRoom,\n  shipsOnDock,\n  setShipsOnDock,\n  useGameFlow,\n  turn\n}) {\n  // Start the game when dock is empty, in multiplayer mode it prompts player two to place is boats\n  const areShipsReady = !!!shipsOnDock.length &&turn\n  \n  useGameFlow(areShipsReady)\n//  useEffect(()=> !!shipsOnDock.length&&gameMode==='multiplayer'? null: setRenderBoard((prev)=>false),[setRenderBoard, shipsOnDock])\n  \n  return (\n    <div className={styles.wrapper} style={{display:showRoom?\"flex\":\"none\"}}>\n      {!!shipsOnDock.length ? (\n        <Dock>\n          {shipsOnDock.map((ship) => (\n            <Ship\n              key={ship.key}\n              id={ship.key}\n              length={ship.length}\n              itemType={itemType}\n            />\n          ))}\n        </Dock>\n      ) : null}\n      <div>\n      <h1 style={{color:'white', textAlign:'center'}}>you</h1>\n      <Board\n        board={playerBoard}\n        setBoard={setBoard}\n        showBoats\n        player={player}\n        itemType={itemType}\n        setDock={setShipsOnDock}\n        attack={()=>{}}\n      />\n      </div>\n      {!!shipsOnDock.length ? null : (\n        <div> \n        <h1 style={{color:'white',textAlign:'center'}}>enemy</h1>\n        <Board board={enemyBoard} attack={attack} />\n        </div>\n      )}\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/anchor.a5fd9676.png\";","import React from \"react\";\nimport anchorImage from \"../images/anchor.png\";\nimport styles from \"./striped.module.css\";\n\nexport default function Striped( {winEffect}) {\n  const stripes = [0,1,2,3,4,5,6];\n  const anchors = [0,1,2,3,4,5,6];\n  return (\n    <div className={ winEffect? styles.wrapperWin:styles.wrapper}>\n      {anchors.map( (anchor, index) => \n      <img\n        key={anchor}\n        src={anchorImage}\n        className={styles.anchor}\n        alt=\"anchor\"\n        style={{left: (index*200)+'px'}}\n      />\n      )}\n      {stripes.map((stripe) => (\n        <div key={stripe}className={ winEffect ? styles.win : styles.stripe} />\n      ))}\n    </div>\n  );\n}\n","import * as _ from \"lodash\";\nimport compose from \"lodash/fp/flowRight\";\n\n// Player atacks given oponent (given the correct gameboard)\nconst attack = (enemy, coord) => enemy.board.receiveAttack(coord);\n// Do random move\nconst randomMove = (moves) => moves[Math.floor(Math.random() * moves.length)];\n// Map possible moves\nconst possibleMoves = (enemy) => {\n  return enemy.board.getBoard\n    .flatMap((cell) => cell)\n    .filter((cell) => !cell.missed && !cell.wasHit)\n    .map( cell => cell.coord)\n};\n// Generate possible random move\nconst computerMove = compose(randomMove,possibleMoves)\nconst play = (enemy) => attack(enemy, computerMove(enemy));\n// Player factory\nconst Player = (board) => Object.assign({}, { board, attack, play });\n\nexport  {Player, randomMove, possibleMoves};\n","function Gameboard () {\n  let curBoard = createBoard_()\n  // Create empty board\n  function createBoard_  (){\n    // Create empty board\n    let board = [];\n    for (let i = 0; i < 10; i++) {\n      board.push(Array(10).fill(null));\n    }\n    // Populate with object of cell info\n   board = board.map( (item, l)=>{ \n   return item.map( (cell, c)=>{ \n        return Object.assign({\n                    coord:{\n                      lin:l,\n                      col:c\n                    },\n                    ship:null,\n                    missed:false,\n                    wasHit:false,\n                    })\n    })\n  })\n    return board;\n  };\n  // Place ship in coordinates\n  const placeShip = (coord, ship) => {\n    for (let i = 0; i < coord.col.length; i++) {\n      curBoard[coord.lin[i]][coord.col[i]].ship = ship;\n    }\n  return curBoard;\n  };\n  // Check if attack is missed\n  const attackIsMissed_ = (coord) => {\n    return curBoard[coord.lin][coord.col].ship === null ? true : false;\n  };\n  // Receive attack is\n  const receiveAttack = (coord) => {\n    if(attackIsMissed_(coord)){\n      curBoard[coord.lin][coord.col].missed = true\n    } else { \n      curBoard[coord.lin][coord.col].ship.hit()\n      curBoard[coord.lin][coord.col].wasHit = true\n      }\n  };\n  // Check if all ships are sunk\n  const allSunk = () => {\n    const cellsWithShip = curBoard\n                        .flatMap( cell => cell)\n                        .filter( cell => cell.ship !== null)\n    const sumDamage = cellsWithShip\n                        .map( cell => cell.ship.damage)\n                        .reduce( (prev,cur)=>prev+cur,0)\n    return cellsWithShip.length>0 && sumDamage===0 ? true : false \n  }\n  // Remove all ships\n  const reset =() => {\n    curBoard = createBoard_()\n  }\n  return { \n    get getBoard(){return curBoard},\n    placeShip,\n    receiveAttack,\n    allSunk,\n    reset\n  }\n}\n\n\nexport default Gameboard;\n","import { Player } from \"./player.factory\";\nimport Gameboard from \"./gameboard.factory\";\nimport shipFactory from \"./ship.factory\"\n\n// Define players\nconst player1 = Player(Gameboard());\nconst player2 = Player(Gameboard());\n// GameOver \nconst gameOver = () => player2.board.allSunk() || player1.board.allSunk();\n// Winner\nconst winner = () => {\n  if( player1.board.allSunk() && gameOver()){\n    return 'Player2 wins!'\n  } else if( player2.board.allSunk() && gameOver()){\n    return 'Player1 wins!'\n  } else { return 'No winner.'}\n}\n// Put ships of player 2 board\nconst computerShips =()=>{\n   /*player2.board.placeShip(\n    { lin: [4, 4, 4, 4], col: [5, 6, 7, 8] },\n    shipFactory(4)\n  );\n  player2.board.placeShip(\n    { lin: [2, 3, 4, 5], col: [3, 3, 3, 3] },\n    shipFactory(4)\n  );\n  // Destroyer\n  player2.board.placeShip({ lin: [9, 9, 9], col: [1, 2, 3] }, shipFactory(3));\n  player2.board.placeShip({ lin: [8, 7, 6], col: [0, 0, 0] }, shipFactory(3));\n  player2.board.placeShip({ lin: [9, 8, 7], col: [9, 9, 9] }, shipFactory(3));\n  // Submarine\n  player2.board.placeShip({ lin: [1, 2, 3], col: [9, 9, 9] }, shipFactory(3));\n  player2.board.placeShip({ lin: [1, 1, 1], col: [4, 5, 6] }, shipFactory(3));\n  player2.board.placeShip({ lin: [0, 0, 0], col: [7, 8, 9] }, shipFactory(3));\n  player2.board.placeShip({ lin: [7, 7, 7], col: [2, 3, 4] }, shipFactory(3));\n  \n  //Patrol boat\n  player2.board.placeShip({ lin: [5, 5], col: [6, 7] }, shipFactory(2));\n  player2.board.placeShip({ lin: [2, 2], col: [0, 1] }, shipFactory(2));\n  player2.board.placeShip({ lin: [7, 7], col: [6, 7] }, shipFactory(2));\n  player2.board.placeShip({ lin: [9, 9], col: [9, 9] }, shipFactory(2));\n  */player2.board.placeShip({ lin: [9, 9], col: [6, 7] }, shipFactory(2));\n}\n\nexport { player1, player2, gameOver, winner, computerShips };\n","import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport Header from \"./Components/Header\";\nimport SituationRoom from \"./Components/SituationRoom\";\nimport Button from \"./Components/Button\";\nimport Striped from \"./Components/Striped\";\nimport styles from \"./app.module.css\";\nimport * as _ from \"lodash\";\nimport { player1, player2, gameOver, winner, computerShips } from \"./game\";\n\n// React hook used to delay computerPlay\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  });\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    let id = setInterval(tick, delay);\n    return () => clearInterval(id);\n  }, [delay]);\n}\nconst updateState = (player, setState) => {\n  const newBoard = _.cloneDeep(player.board.getBoard);\n  setState((prev) => newBoard);\n};\n\nfunction App() {\n  const initialBoardPlayer1 = useRef(_.cloneDeep(player1.board.getBoard));\n  const initialBoardPlayer2 = useRef(_.cloneDeep(player2.board.getBoard));\n  const initialDock = [\n    { key: \"P1destroyer\", length: 4 },\n    /*{ key: \"P1submarine1\", length: 3 },\n    { key: \"P1submarine2\", length: 3 },\n    { key: \"P1patrolBoat1\", length: 2 },\n    { key: \"P1patrolBoat2\", length: 2 },*/\n  ];\n\n  const [player1Board, setPlayer1Board] = useState(initialBoardPlayer1.current);\n  const [player2Board, setPlayer2Board] = useState(initialBoardPlayer2.current);\n  const [player1shipsOnDock, setPlayer1ShipsOnDock] = useState(initialDock);\n  const [player2shipsOnDock, setPlayer2ShipsOnDock] = useState(initialDock);\n  const [gameState, setGameState] = useState(\"Game mode\");\n  const [gameMode, setGameMode] = useState(null);\n  const [renderBoard, setRenderBoard] = useState(false);\n  const [winEffect, setWinEffect] = useState(false);\n\n  // Sincronize player attacks with boards state\n  const attackPlayer1 = (coord) => {\n    player2.attack(player1, coord);\n    const newState = gameOver() ? winner() : \"Player1's turn\";\n    updateState(player1, setPlayer1Board);\n    setGameState((prev) => newState);\n    gameOver() && gameMode === \"multiplayer\"\n      ? setRenderBoard((prev) => true)\n      : setRenderBoard((prev) => false);\n    gameOver() && setWinEffect(true);\n  };\n  const attackPlayer2 = (coord) => {\n    player1.attack(player2, coord);\n    const newState = gameOver() ? winner() : \"Player2's turn\";\n    updateState(player2, setPlayer2Board);\n    setGameState((prev) => newState);\n    gameOver() && gameMode === \"multiplayer\"\n      ? setRenderBoard((prev) => true)\n      : setRenderBoard((prev) => false);\n    gameMode === \"multiplayer\" && gameOver()\n      ? setRenderBoard((prev) => true)\n      : setRenderBoard((prev) => false);\n    gameOver() && setWinEffect(true);\n  };\n  // Single player mode: place computer ships and move's in is turn\n  const computerPlay = () => {\n    if (gameState === \"Player2's turn\" && gameMode === \"single player\") {\n      let newState = gameState;\n      let newBoard = player1Board;\n      player2.play(player1);\n      newState = \"Player1's turn\";\n      newBoard = _.cloneDeep(player1.board.getBoard);\n      setPlayer1Board((prev) => newBoard);\n      setGameState((prev) => newState);\n    }\n  };\n  // Add delay to computer moves ( setInterval alone does not do well with React)\n  useInterval(computerPlay, 2000);\n  // is ship placement phase?\n  const isGameStart =\n    gameState === \"Place your ships!\" ||\n    gameState === \"Player1, place your ships!\" ||\n    gameState === \"Player2, place your ships!\";\n  // useGameFlow is called when a player finished placing is ships\n  function useGameFlow(areShipsReady) {\n    let newGameState = gameState;\n    console.log(areShipsReady);\n    if (areShipsReady) {\n      if (gameMode === \"single player\" && isGameStart) {\n        newGameState = \"Player1's turn\";\n      }\n      if (gameMode === \"multiplayer\" && isGameStart) {\n        if (gameState === \"Player1, place your ships!\") {\n          newGameState = \"Player2, place your ships!\";\n          setRenderBoard((prev) => false);\n        } else if (gameState === \"Player2, place your ships!\") {\n          newGameState = \"Player1's turn\";\n          setRenderBoard((prev) => false);\n        }\n      }\n    }\n    useEffect(() => setGameState((prev) => newGameState), [newGameState]);\n  }\n\n  console.log(winEffect);\n  // Clear boards and go back to initial state\n  const handleNewGame = () => {\n    player1.board.reset();\n    player2.board.reset();\n    setPlayer1Board((prev) => _.cloneDeep(player1.board.getBoard));\n    setPlayer2Board((prev) => _.cloneDeep(player2.board.getBoard));\n    setGameState((prev) => \"Game mode\");\n    setGameMode((prev) => null);\n    setRenderBoard((prev) => false);\n    setPlayer1ShipsOnDock((prev) => initialDock);\n    setPlayer2ShipsOnDock((prev) => initialDock);\n    setWinEffect(false);\n  };\n  const handleSinglePlayer = () => {\n    computerShips();\n    updateState(player2, setPlayer2Board);\n    setGameMode((prev) => \"single player\");\n    setGameState((prev) => \"Place your ships!\");\n    setRenderBoard((prev) => true);\n  };\n  const handleMultiplayer = () => {\n    setGameMode((prev) => \"multiplayer\");\n    setGameState((prev) => \"Player1, place your ships!\");\n  };\n  const renderSituationRoom = () => {\n    if (gameMode === \"multiplayer\") {\n      return (\n        <div className={styles.background}>\n          <SituationRoom\n            itemType={\"P1\"}\n            setBoard={() => updateState(player1, setPlayer1Board)}\n            player={player1}\n            attack={gameState === \"Player1's turn\" ? attackPlayer2 : () => {}}\n            playerBoard={player1Board}\n            enemyBoard={player2Board}\n            useGameFlow={useGameFlow}\n            setGameState={setGameState}\n            showRoom={\n              renderBoard &&\n              (gameState === \"Player1, place your ships!\" ||\n                gameState === \"Player1's turn\" ||\n                gameState === \"Player2 wins!\")\n            }\n            shipsOnDock={player1shipsOnDock}\n            setShipsOnDock={setPlayer1ShipsOnDock}\n            turn={\n              gameState === \"Player1's turn\" ||\n              gameState === \"Player1, place your ships!\"\n            }\n          />\n          <SituationRoom\n            itemType={\"P2\"}\n            setBoard={() => updateState(player2, setPlayer2Board)}\n            player={player2}\n            attack={gameState === \"Player2's turn\" ? attackPlayer1 : () => {}}\n            playerBoard={player2Board}\n            enemyBoard={player1Board}\n            useGameFlow={useGameFlow}\n            showRoom={\n              renderBoard &&\n              (gameState === \"Player2, place your ships!\" ||\n                gameState === \"Player2's turn\" ||\n                gameState === \"Player1 wins\")\n            }\n            shipsOnDock={player2shipsOnDock}\n            setShipsOnDock={setPlayer2ShipsOnDock}\n            turn={\n              gameState === \"Player2's turn\" ||\n              gameState === \"Player2, place your ships!\"\n            }\n          />\n        </div>\n      );\n    } else if (gameMode === \"single player\") {\n      return (\n        <SituationRoom\n          itemType={\"P1\"}\n          setBoard={() => updateState(player1, setPlayer1Board)}\n          player={player1}\n          attack={gameState === \"Player1's turn\" ? attackPlayer2 : () => {}}\n          playerBoard={player1Board}\n          enemyBoard={player2Board}\n          useGameFlow={useGameFlow}\n          showRoom\n          shipsOnDock={player1shipsOnDock}\n          setShipsOnDock={setPlayer1ShipsOnDock}\n          turn={\n            gameState === \"Player1's turn\" || gameState === \"Place your ships!\"\n          }\n        />\n      );\n    }\n  };\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <div className={styles.gameWrapper}>\n        <Header\n          gameState={gameState}\n          handleSinglePlayer={handleSinglePlayer}\n          handleMultiplayer={handleMultiplayer}\n          handleNewGame={handleNewGame}\n          winEffect={winEffect}\n        />\n        <Striped winEffect={winEffect} />\n        <div className={styles.background}>\n          {!renderBoard &&\n          gameMode === \"multiplayer\" &&\n          gameState !== \"Game mode\" ? (\n            <div className={styles.lifebuoy}>\n              <svg width=\"200\" height=\"200\">\n                <circle\n                  r=\"70\"\n                  cx=\"100\"\n                  cy=\"100\"\n                  fill=\"none\"\n                  stroke=\"#195570\"\n                  stroke-width=\"55\"\n                />\n                <circle\n                  r=\"70\"\n                  cx=\"100\"\n                  cy=\"100\"\n                  fill=\"none\"\n                  stroke=\"#d86307\"\n                  stroke-width=\"50\"\n                />\n                <circle\n                  r=\"70\"\n                  cx=\"100\"\n                  cy=\"100\"\n                  fill=\"none\"\n                  stroke=\"white\"\n                  stroke-width=\"50\"\n                  stroke-dasharray=\"20 90\"\n                  stroke-dashoffset=\"10\"\n                />\n              </svg>\n              <div\n                className={styles.buttonWrapper}\n                onClick={() => setRenderBoard((prev) => true)}\n              >\n                <div className={styles.buttonFormat}>\n                  <Button\n                    value=\"Show Board\"\n                    onClick={() => setRenderBoard((prev) => true)}\n                  />\n                </div>\n              </div>\n            </div>\n          ) : null}\n          {renderSituationRoom()}\n        </div>\n      </div>\n    </DndProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n   <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"messageboard_wrapper__1Rgyx\",\"title\":\"messageboard_title__2dwke\",\"win\":\"messageboard_win__1cb4j\"};"],"sourceRoot":""}